
= semantic_form_for @report, :class => 'report' do |f|
  = f.semantic_errors
  = f.inputs do
    #report-left-side
      %p
        Acoustic transmitters, or tags, have been implanted in a variety of species around the Greak Lakes.  These tags allow GLATOS researchers to track the movements of tagged fish, givin ghem great insights into migration patterns, ecology, and spawning behaviours.
      %p
        Tags are essential to successful implementation of fish telemetry projects, so if you find a tag, please take the time to fill out the information below so that we can let our researches know.

      .left-form-element
        = f.input :tag,                         :label => "ID Tag Number"
        = f.input :description,                 :input_html => {  :value => "Water depth, distance from shore, weedy, visibility, etc...", :class => 'default_value'},     :label => "Describe the area you were fishing"
      = f.input :found,       :as => :string,   :wrapper_html => { :class => 'right-form-element' },                                            :label => "When did you find the tag?",   :input_html => { :readonly => true }


      %div{:style=> "clear:both;"}

      %p{:class => "reward"}
        By providing your contact information below project leads will be able to contact you about returning the tag

      %p{:class => "reward", :style => "text-decoration: underline;"}
        Some projects even provide rewards for returned tags!

      = f.input :name,                          :wrapper_html => { :class => 'left-form-element' }
      = f.input :city,                          :wrapper_html => { :class => 'right-form-element' }
      = f.input :phone,       :as => :string,   :wrapper_html => { :class => 'left-form-element' }
      = f.input :state,       :as => :select,   :wrapper_html => { :class => 'right-form-element' },    :collection => State::NAMES,            :label => "State/Province"
      = f.input :email,       :as => :string,   :wrapper_html => { :class => 'left-form-element' },     :hint => "If you donâ€™t have an email address please call John Doe at 555-555-5555 to report the tag."

    #report-right-side

      %p{:class => "reward"}
        If you haven't done so already, immediately remove the internal trasnmitters from the fish and rinse with water.  Store the transmitter at room temperature.  You may keep the fish!

      %p
        = image_tag("tagged_fish.jpg")

      = f.input :method,      :as => :select,   :wrapper_html => { :class => 'left-form-element' },      :collection => Report::METHODS,   :label => "How did you find the tag?"
      = f.input :fishtype,    :as => :select,   :wrapper_html => { :class => 'right-form-element' },     :collection => Fish::TYPES,       :label => "What type of fish?"
      .left-form-element
        %img{:src => "#{asset_path 'tag.jpg'}", :style => "width: 90%;"}
        %br
        %div{:class => 'caption', :style => "width: 90%;"}
          The V8-4L is a tag you could possibly find.  It weights only about 0.9 grams in water and is only 20.5mm long.
      .right-form-element
        .spacer{:style => "height: 40px;"}
        = f.input :length,    :as => :string,   :wrapper_html => { :class => 'small-form-element' },       :label => "Fish Length",   :hint => "in"
        = f.input :weight,    :as => :string,   :wrapper_html => { :class => 'small-form-element' },       :label => "Fish Weight",   :hint => "lbs"

      .clear
      .spacer{:style => "height: 40px;"}
      %p{:class => 'left-form-element'}
        Review your ID Tag Number before submitting
      .right-form-element
        = f.commit_button :button_html => { :disable_with => 'Wait...' }


:javascript

  $(document).ready(function() {
    $('.default_value').each(function() {
      var default_value = this.value;
      $(this).css('color', '#666');
      $(this).focus(function() {
        if(this.value == default_value) {
          this.value = '';
          $(this).css('color', '#333');
        }
      });
      $(this).blur(function() {
        if(this.value == '') {
          $(this).css('color', '#666');
          this.value = default_value;
        }
      });
    });

    $( "#report_found" ).datepicker({
       buttonImage: "#{asset_path 'small_calendar.png'}"
      ,changeMonth: true
      ,changeYear:  true
      ,showOn: "both"
      ,autoSize: true
      ,buttonImageOnly: true
      ,showOptions: {direction: 'up' }
      });

  });
